<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
    <title>首页菜单</title>
    <link rel="stylesheet" href="../css/Reset.css">
    <link href="../css/mui.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="../css/list_index(2).css">
    <style type="text/css">
        /*--------首页list_index样式-------*/
        
        div.mui-content {
            background-color: #fff;
            /*---由于内嵌页面初始化的bottom在手机实测中无效,所以直接把距离增加到这里---*/
            /*padding-bottom: 14px;*/
            padding-bottom: 60px;
        }
        
        #topBtn {
            bottom: 55px;
            font-size: 12px;
        }
    </style>
</head>

<body>
    <!-- 侧滑导航根容器 -->
    <div class="mui-content">
        <div id="wrap">
            <!-- 头部 -->
            <div id="top">
                <div class="mui-slider">
                    <div class="mui-slider-group mui-slider-loop">
                        <!--支持循环，需要重复图片节点-->
                        <div class="mui-slider-item mui-slider-item-duplicate">
                            <a href="###"><img src="../image/16545852_604x290_50.jpg" /></a>
                        </div>
                        <div class="mui-slider-item">
                            <a href="###"><img src="../image/16082181_604x290_50.jpg" /></a>
                        </div>
                        <div class="mui-slider-item">
                            <a href="###"><img src="../image/41366273_604x290_50.jpg" /></a>
                        </div>
                        <div class="mui-slider-item">
                            <a href="###"><img src="../image/16545852_604x290_50.jpg" /></a>
                        </div>
                        <!--支持循环，需要重复图片节点-->
                        <div class="mui-slider-item mui-slider-item-duplicate">
                            <a href="###"><img src="../image/16082181_604x290_50.jpg" /></a>
                        </div>
                    </div>
                    <!--分页器-->
                    <div class="mui-slider-indicator">
                        <div class="mui-indicator mui-active"></div>
                        <div class="mui-indicator"></div>
                        <div class="mui-indicator"></div>
                    </div>
                </div>
                <p>热卖榜</p>
            </div>
            <!-- 热卖 -->
            <div id="conten">
                <div class="list">
                    <a href="../index_details.html" target="_parent">
                        <div>
                            <img src="../image/29554416_604x290_50.jpg" alt="">
                        </div>
                    </a>
                    <p>7.7折起 雅戈尔西装专场</p>
                </div>
                <div class="list">
                    <a href="../index_details.html" target="_parent">
                        <div>
                            <img src="../image/21026752_604x290_50.jpg" alt="">
                        </div>
                    </a>
                    <p>7.7折起 Oull8asl潮鞋专场</p>
                </div>
                <div class="list">
                    <a href="../index_details.html" target="_parent">
                        <div>
                            <img src="../image/13474161_604x290_50.jpg" alt="">
                        </div>
                    </a>
                    <p>7.7折起 七匹狼专场</p>
                </div>
                <div class="list">
                    <a href="../index_details.html" target="_parent">
                        <div>
                            <img src="../image/35177721_604x290_50.jpg" alt="">
                        </div>
                    </a>
                    <p>7.7折起 奥迪Dior化妆品专场</p>
                </div>
            </div>
            <!-- 精买精选 -->
            <div id="footer">
                <p class="footer_text">精选精品</p>
                <ul class="footer_main clearfix">
                    <li>
                        <a href="../index_details.html" target="_parent">
                            <div>
                                <img src="../image/blou_1.jpg" alt="">
                            </div>
                            <div>
                                <p>潮流衬衫</p>
                                <span>￥199</span>
                            </div>
                        </a>
                    </li>
                    <li>
                        <a href="../index_details.html" target="_parent">
                            <div>
                                <img src="../image/blou_2.jpg" alt="">
                            </div>
                            <div>
                                <p>潮流衬衫</p>
                                <span>￥199</span>
                            </div>
                        </a>
                    </li>
                    <li>
                        <a href="../index_details.html" target="_parent">
                            <div>
                                <img src="../image/knitw_9.jpg" alt="">
                            </div>
                            <div>
                                <p>潮流范儿针织衫</p>
                                <span>￥199</span>
                            </div>
                        </a>
                    </li>
                    <li>
                        <a href="../index_details.html" target="_parent">
                            <div>
                                <img src="../image/knitw_10.jpg" alt="">
                            </div>
                            <div>
                                <p>潮流范儿针织衫</p>
                                <span>￥199</span>
                            </div>
                        </a>
                    </li>
                    <li>
                        <a href="../index_details.html" target="_parent">
                            <div>
                                <img src="../image/lea_shoes_1.jpg" alt="">
                            </div>
                            <div>
                                <p>潮流皮鞋</p>
                                <span>￥299</span>
                            </div>
                        </a>
                    </li>
                    <li>
                        <a href="../index_details.html" target="_parent">
                            <div>
                                <img src="../image/lea_shoes_3.jpg" alt="">
                            </div>
                            <div>
                                <p>潮流皮鞋</p>
                                <span>￥299</span>
                            </div>
                        </a>
                    </li>
                    <li>
                        <a href="../index_details.html" target="_parent">
                            <div>
                                <img src="../image/red_wine_1.jpg" alt="">
                            </div>
                            <div>
                                <p>法国著名红酒</p>
                                <span>￥999</span>
                            </div>
                        </a>
                    </li>
                    <li>
                        <a href="../index_details.html" target="_parent">
                            <div>
                                <img src="../image/red_wine_2.jpg" alt="">
                            </div>
                            <div>
                                <p>法国著名红酒</p>
                                <span>￥999</span>
                            </div>
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </div>
</body>
<script type="text/javascript" src="../js/jquery-3.1.0.min.js"></script>
<script src="../js/mui.min.js"></script>
<script type="text/javascript" src="../js/conmondFunction.js"></script>
<script type="text/javascript">
// 每个子页面一进来时,需要将返回顶部按钮隐藏
// 因为有可能上一页跳过来时,返回顶部按钮是显示的.
// window.parent.$("#topBtn").hide();


// ==============TEST===================
// 读取子页面href函数
subhrefFn(0);
// ==============TEST===================
// 子页面跳转函数,供父页面调用
function subSwiftFn(url) {
    window.location.href = url;
}

// ==============TEST===================
// 页面加载后,调用父页面显示主logo的函数.
window.onload = function() {
        parent.showLogoFn();
}
// =====================================

// MUI轮播API
var gallery = mui('.mui-slider');
gallery.slider({
    interval: 5000, //自动轮播周期，若为0则不自动播放，默认为0；
});

// =====================================================
// 返回顶部部件(ios环境下,iframe页面返回顶部需要特殊操作)
// toTopFn();
// showHideFn();

// ====================TEST===========================
// $(document).on("tap",function(){
//     // $(parent.window).scrollTop()/$(parent.document)
//     // 或$(window.parent.window).scrollTop()/$(window.parent.document).scrollTop()  
//     // 以上方法在手机端(ios)读取iframe的scrollTop有效,原理不明？？
//     // 发现了一些规律.都设置了parent,指向父页面,不明白.

//     var aaa = $(window.parent.document).scrollTop();
//     alert(aaa);
// });

// ===================TEST============================
// ios端iframe页面scroll事件：
// $(parent.window).scroll()/$(parent.document).scroll()
$(parent.window).scroll(function(e) {
    if ($(window.parent.document).scrollTop() > 300) {
        parent.showBackFn();
    } else {
        parent.hideBackFn();
    }
});

// ios端iframe页面的返回顶部函数,供父页面调用
// function toTopFn(){
//     $(window.parent.document).scrollTop(0);
//     // PC端演示时的返回顶部函数
//     $(document).scrollTop(0);
// }

// 添加滚动.times为回到顶部所用的时间参数
function toTopFn(times) {
    var topval = $(window.parent.document).scrollTop() || $(document).scrollTop();
    var speed = topval/times;
    (function moveFn() {
        topval -= speed;
        if (topval < 0) {
            $(window.parent.document).scrollTop(0);
            // 兼容PC端的返回顶部函数
            $(document).scrollTop(0);
            return false;
        } else {
            $(window.parent.document).scrollTop(topval);
            // 兼容PC端的返回顶部函数
            $(document).scrollTop(topval);
            window.requestAnimationFrame(moveFn);
        }
    })();
}

// PC端演示时的scroll事件
$(window).scroll(function(e){
    if ($(document).scrollTop() > 300) {
        parent.showBackFn();
    } else {
        parent.hideBackFn();
    }
});

</script>

</html>
